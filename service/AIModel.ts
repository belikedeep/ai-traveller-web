import { GoogleGenerativeAI } from "@google/generative-ai";

const genAI = new GoogleGenerativeAI(process.env.NEXT_PUBLIC_GEMINI_API_KEY!);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with  a Cheap Budget, Give me a Hotels option list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo coordinates, ticket pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and daily plans in JSON format.\n\n```json\n{\n  "location": "Las Vegas",\n  "duration": "3 Days",\n  "budget": "Cheap",\n  "travelers": "Couple",\n    "hotel_options": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n        "price": "$40- $70 per night",\n      "hotelImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/27/c6/9f/f2/circus-circus-hotel-and.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1381,\n        "longitude": -115.1672\n      },\n      "rating": 3.5,\n      "description": "A classic, family-friendly option with budget-friendly rooms and a large entertainment complex, including a circus and Adventuredome theme park."\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price":"$45- $80 per night",\n      "hotelImageUrl":"https://media-cdn.tripadvisor.com/media/photo-s/24/3b/7f/2e/excalibur-hotel-casino.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0987,\n        "longitude": -115.1746\n      },\n      "rating": 3.8,\n      "description": "A medieval-themed hotel offering affordable rates, multiple dining options, and a pool area, located on the southern end of the Strip."\n    },\n       {\n        "hotelName": "OYO Hotel & Casino Las Vegas",\n        "hotelAddress": "115 E Tropicana Ave, Las Vegas, NV 89109",\n           "price":"$35- $65 per night",\n        "hotelImageUrl":"https://media-cdn.tripadvisor.com/media/photo-s/1b/72/c0/e2/oyo-hotel-casino-las.jpg",\n         "geoCoordinates": {\n          "latitude": 36.0998,\n          "longitude": -115.1661\n         },\n        "rating": 3.3,\n        "description": "Formerly known as the Hooters Hotel, OYO offers budget-friendly rooms near the Strip with a relaxed atmosphere and a lively casino."\n       },\n      {\n      "hotelName": "Luxor Hotel and Casino",\n        "hotelAddress": "3900 S Las Vegas Blvd, Las Vegas, NV 89119",\n        "price": "$50-$90 per night",\n        "hotelImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/25/06/e3/7c/luxor-hotel-casino.jpg",\n        "geoCoordinates": {\n          "latitude": 36.0957,\n           "longitude": -115.1733\n       },\n        "rating": 4.0,\n        "description": "A unique pyramid-shaped hotel at the south end of the strip with budget-friendly options, a large casino, and various attractions."\n      }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Exploring the Strip & Free Entertainment",\n      "best_time_to_visit": "Late afternoon/Evening (for cooler temps and shows)",\n      "places": [\n         {\n          "placeName": "Welcome to Fabulous Las Vegas Sign",\n          "placeDetails": "Iconic sign for a photo op. Often crowded, so patience is key. ",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Las_Vegas_Sign_Night.jpg/1200px-Las_Vegas_Sign_Night.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0829,\n            "longitude": -115.1731\n          },\n          "ticketPricing": "Free",\n          "rating": 4.5,\n           "travelTime": "15 minutes from the Strip area by car/ride-sharing"\n        },\n        {\n          "placeName": "Bellagio Conservatory & Botanical Gardens",\n           "placeDetails": "Beautiful free floral displays that change seasonally.",\n          "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/24/61/8c/12/bellagio-conservatory.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1127,\n             "longitude": -115.1742\n           },\n           "ticketPricing": "Free",\n           "rating": 4.7,\n          "travelTime": "10 minutes walking from Welcome to Las Vegas Sign"\n        },\n         {\n          "placeName": "Bellagio Fountains",\n          "placeDetails": "Watch the free water fountain show set to music, happening every 30 minutes during the day, and every 15 minutes at night.",\n          "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1b/08/0b/c0/bellagio-fountains.jpg",\n          "geoCoordinates": {\n             "latitude": 36.1128,\n              "longitude": -115.1737\n          },\n           "ticketPricing": "Free",\n          "rating": 4.8,\n           "travelTime": "Adjacent to the Bellagio Conservatory"\n        },\n         {\n          "placeName": "Walk the Las Vegas Strip",\n          "placeDetails": "Enjoy the sights and sounds of the Strip, including themed hotels, street performers, and neon lights.",\n          "placeImageUrl": "https://images.unsplash.com/photo-1615519364047-6b9b96128b60?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",\n          "geoCoordinates": {\n            "latitude": 36.1146,\n             "longitude": -115.1728\n          },\n           "ticketPricing": "Free",\n          "rating": 4.6,\n          "travelTime": "Walkable area from the Bellagio Fountains"\n        },\n        {\n         "placeName":"Fremont Street Experience",\n         "placeDetails":"Watch a free light show on the Viva Vision screen, along with street performers and live music on the stage.",\n         "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/11/0a/c6/70/fremont-street-experience.jpg",\n         "geoCoordinates":{\n           "latitude": 36.1703,\n           "longitude": -115.1401\n         },\n         "ticketPricing": "Free",\n         "rating": 4.5,\n         "travelTime": "20 min drive from the Las Vegas strip"\n        }\n\n      ]\n    },\n    "day2": {\n      "theme": "Nature & Unique Experiences",\n       "best_time_to_visit":"Morning (to avoid heat and crowds)",\n      "places": [\n        {\n          "placeName": "Red Rock Canyon National Conservation Area",\n          "placeDetails": "Hike or drive through scenic red rock formations. There is a fee for the scenic drive, or you can hike some of the trails for free.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Red_Rock_Canyon_National_Conservation_Area_1.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area_1.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1516,\n            "longitude": -115.4167\n          },\n          "ticketPricing":"$15-$20 per vehicle for scenic drive or free for some hiking trails",\n          "rating": 4.7,\n          "travelTime": "30-minute drive from the Strip"\n        },\n         {\n          "placeName":"The LINQ Promenade",\n          "placeDetails":"Explore shops, restaurants, and the High Roller Observation Wheel. Not required to ride.",\n          "placeImageUrl":"https://media-cdn.tripadvisor.com/media/photo-s/19/b0/9c/7a/the-linq-promenade.jpg",\n          "geoCoordinates":{\n            "latitude":36.1164,\n            "longitude":-115.1694\n          },\n          "ticketPricing":"Free to enter, prices vary for the High Roller and shops.",\n           "rating":4.3,\n          "travelTime":"25 minute drive from Red Rock Canyon National Conservation Area"\n          },\n           {\n            "placeName": "The Mirage Volcano",\n             "placeDetails": "Watch the free volcano eruption show with fire and lights.",\n            "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1b/40/e9/aa/volcano-at-the-mirage.jpg",\n             "geoCoordinates": {\n             "latitude": 36.1208,\n              "longitude": -115.1736\n             },\n           "ticketPricing": "Free",\n             "rating": 4.6,\n            "travelTime":"10 minute drive from the LINQ Promenade"\n\n         }\n      ]\n    },\n    "day3": {\n      "theme": "Museums & Exploring the South Strip",\n      "best_time_to_visit":"Morning/Afternoon",\n      "places": [\n         {\n          "placeName": "M&M\'s World Las Vegas",\n          "placeDetails": "A colorful and fun retail experience with a lot of photo opportunities. ",\n          "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/1b/f7/90/4b/m-m-s-world-las-vegas.jpg",\n           "geoCoordinates": {\n            "latitude": 36.1075,\n             "longitude": -115.1709\n           },\n          "ticketPricing": "Free to enter, costs for purchases",\n          "rating": 4.3,\n          "travelTime": "10 minute drive from the hotel"\n        },\n        {\n          "placeName": "Pinball Hall of Fame",\n           "placeDetails": "A large collection of pinball machines, you can play many for a small fee. An interesting stop for vintage and game lovers.",\n          "placeImageUrl": "https://media-cdn.tripadvisor.com/media/photo-s/0f/5e/c7/22/the-pinball-hall-of-fame.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0752,\n             "longitude": -115.1561\n           },\n           "ticketPricing": "Free entry, cost per play",\n           "rating": 4.6,\n            "travelTime": "15 minute drive from M&M\'s World"\n        },\n          {\n             "placeName":"Town Square Las Vegas",\n              "placeDetails":"An outdoor shopping, dining, and entertainment area with a variety of stores, free to walk around",\n             "placeImageUrl":"https://media-cdn.tripadvisor.com/media/photo-s/02/f8/d4/16/town-square.jpg",\n              "geoCoordinates":{\n                "latitude":36.0679,\n                "longitude":-115.1729\n            },\n              "ticketPricing":"Free entry, costs for purchases",\n            "rating":4.2,\n             "travelTime": "10 minute drive from the Pinball Hall of Fame"\n          }\n      ]\n    }\n  }\n}\n```',
        },
      ],
    },
  ],
});
